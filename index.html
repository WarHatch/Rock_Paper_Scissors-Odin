<!DOCTYPE html>
<html>
    <script>
        function computerPlay(){
            let rn = Math.floor(Math.random()*3); //{0;1;2}
            return (rn<1) ? "Rock" : (rn<2) ? "Paper" : "Scissors";
        }

        function playRound(playerSelection, computerSelection){
            if (playerSelection.toUpperCase() === computerSelection.toUpperCase()){
                console.log("Tie. You both selected " + computerSelection);
                return 0;
            }

            else if (playerSelection.toUpperCase() === "ROCK"){
                if (computerSelection === "Paper"){
                    console.log("You Lose! Rock loses to Paper");
                    return -1;
                }
                else{
                    console.log("You Win! Rock beats Scissors");
                    return 1;
                }
            }

            else if (playerSelection.toUpperCase() === "PAPER"){
                if (computerSelection === "Scissors"){
                    console.log("You Lose! Paper loses to Scissors");
                    return -1;
                }
                else{
                    console.log("You Win! Paper beats Rock");
                    return 1;
                }
            }

            else if (playerSelection.toUpperCase() === "SCISSORS"){
                if (computerSelection === "Rock"){ 
                    console.log("You Lose! Scissors lose to Rock");
                    return -1;
                }
                else{
                    console.log("You Win! Scissors beat Paper");
                    return 1;
                }
            }

            console.log("ERROR: Did not recognize the move");
            return 0;   
        }

        /*
        const playerSelection = 'rock';
        const computerSelection = computerPlay();
        console.log(playRound(playerSelection, computerSelection));
        */

       function game()
       {
            let playerScore = 0;
            let compScore = 0;
            for (let i = 0; i<5; i++){
                let outcome = playRound(prompt("Choose between Rock, Paper or Scissors"), computerPlay());
                outcome === 1 ? playerScore++ : outcome === -1 ? compScore++ : 0;
            }
            alert("Player's score: " + playerScore + "\n"
                + "Computer's score: " + compScore + "\n"
                + "The winner is " + (playerScore > compScore? "Player" : playerScore < compScore? "Computer" : "No one") +"!");
       }

       game();

    </script>
</html>